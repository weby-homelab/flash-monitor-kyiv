# ‚ö°Ô∏è Flash Monitor Kyiv

<p align="center">
  <img src="https://raw.githubusercontent.com/weby-homelab/flash-monitor-kyiv/main/dashboard_preview.jpg" alt="Dashboard Preview" width="100%">
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Version-1.2.1-blue?style=for-the-badge" alt="Version">
  <img src="https://img.shields.io/badge/Python-3.10+-yellow?style=for-the-badge&logo=python" alt="Python">
  <img src="https://img.shields.io/badge/Flask-Framework-white?style=for-the-badge&logo=flask" alt="Flask">
  <img src="https://img.shields.io/badge/License-MIT-green?style=for-the-badge" alt="License">
  <img src="https://img.shields.io/badge/Status-Stable-success?style=for-the-badge" alt="Status">
</p>

---

**Flash Monitor Kyiv** ‚Äî —Ü–µ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –µ–Ω–µ—Ä–≥–æ—Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –±–µ–∑–ø–µ–∫–æ–≤–æ—ó —Å–∏—Ç—É–∞—Ü—ñ—ó –≤ –ö–∏—î–≤—ñ. –ü—Ä–æ—î–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –∑–±—ñ—Ä –¥–∞–Ω–∏—Ö –ø—Ä–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞, –ø–æ–≤—ñ—Ç—Ä—è–Ω—ñ —Ç—Ä–∏–≤–æ–≥–∏ —Ç–∞ –µ–∫–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–∞–Ω, –æ–±'—î–¥–Ω—É—é—á–∏ —ó—Ö —É —î–¥–∏–Ω–∏–π PWA-–¥–æ–¥–∞—Ç–æ–∫ —Ç–∞ —Ä–æ–∑—É–º–Ω–∏–π Telegram-–∫–∞–Ω–∞–ª.

üîó **–ñ–∏–≤–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:** [flash.srvrs.top](https://flash.srvrs.top/)

---

## üöÄ –ö–ª—é—á–æ–≤—ñ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üí° –ï–Ω–µ—Ä–≥–æ–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ 2.0
- **Heartbeat-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è:** –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Å–≤—ñ—Ç–ª–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø—ñ–Ω–≥—É–≤–∞–Ω–Ω—è.
- **–†–æ–∑—É–º–Ω—ñ –∑–≤—ñ—Ç–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ñ–∞–∫—Ç–∏—á–Ω–∏—Ö –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–º–∏ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏ (Yasno/DTEK).
- **–ê–Ω–∞–ª—ñ–∑ —Ç–æ—á–Ω–æ—Å—Ç—ñ:** –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Ö–∏–ª–µ–Ω—å —É —Ö–≤–∏–ª–∏–Ω–∞—Ö (¬´–°–≤—ñ—Ç–ª–æ –∑–Ω–∏–∫–ª–æ –Ω–∞ 5 —Ö–≤ —Ä–∞–Ω—ñ—à–µ –≥—Ä–∞—Ñ—ñ–∫–∞¬ª).

### üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –ï–∫–æ–ª–æ–≥—ñ—è
- **Air Alert:** –ú–∏—Ç—Ç—î–≤–∏–π —Å—Ç–∞—Ç—É—Å —Ç—Ä–∏–≤–æ–≥ –¥–ª—è –ö–∏—î–≤–∞ —Ç–∞ –æ–±–ª–∞—Å—Ç—ñ –∑ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ—é –∫–∞—Ä—Ç–æ—é.
- **AQI Monitor:** –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è (PM2.5, PM10) —Ç–∞ —Ä–∞–¥—ñ–∞—Ü—ñ–π–Ω–æ–≥–æ —Ñ–æ–Ω—É.
- **Weather Insights:** –ê–∫—Ç—É–∞–ª—å–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–æ–ª–æ–≥—ñ—Å—Ç—å —Ç–∞ –Ω–∞–ø—Ä—è–º–æ–∫ –≤—ñ—Ç—Ä—É.

### üîî Smart Notifications
- **Live Reports:** Telegram-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —â–æ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ –ø—Ä–æ—Ç—è–≥–æ–º –¥–Ω—è (–æ–¥–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚Äî –ø–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –¥–æ–±–∏).
- **Visual Analytics:** –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–µ–Ω–Ω–∏—Ö —Ç–∞ —Ç–∏–∂–Ω–µ–≤–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ ¬´–ü–ª–∞–Ω vs –§–∞–∫—Ç¬ª.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π –°—Ç–µ–∫

*   **Backend:** Python 3, Flask, Gunicorn.
*   **Data Processing:** Pandas, Matplotlib, BeautifulSoup4.
*   **Frontend:** HTML5, CSS3 (Vanilla CSS), JavaScript.
*   **DevOps:** Systemd, Nftables (Port Redirection), Cloudflare Tunnels.

---

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º–∏

–°–∏—Å—Ç–µ–º–∞ –ø–æ–±—É–¥–æ–≤–∞–Ω–∞ –Ω–∞ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω—ñ–π —ñ–¥–µ–æ–ª–æ–≥—ñ—ó, –¥–µ –∫–æ–∂–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–∫–æ–Ω—É—î —Å–≤–æ—é –∑–∞–¥–∞—á—É. –í–∑–∞—î–º–æ–¥—ñ—è –º—ñ–∂ –Ω–∏–º–∏ –ø–æ–∫–∞–∑–∞–Ω–∞ –Ω–∞ –¥—ñ–∞–≥—Ä–∞–º—ñ –Ω–∏–∂—á–µ:

```mermaid
flowchart TD
    %% -- Style Definitions --
    classDef client fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#01579b
    classDef core fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#616161
    classDef logic fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#2e7d32
    classDef external fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#c2185b
    classDef storage fill:#efebe9,stroke:#4e342e,stroke-width:2px,color:#4e342e
    classDef notify fill:#ede7f6,stroke:#5e35b1,stroke-width:2px,color:#5e35b1

    %% -- Nodes --
    subgraph Clients ["üåê –†—ñ–≤–µ–Ω—å –ö–ª—ñ—î–Ω—Ç—ñ–≤"]
        User("üì± PWA –í–µ–±-–¥–æ–¥–∞—Ç–æ–∫<br/>(Dashboard)")
        IoT("‚ö° IoT –ü—Ä–∏—Å—Ç—Ä—ñ–π<br/>(Heartbeat)")
    end

    subgraph Backend ["üöÄ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π Backend (Port 5050)"]
        direction TB
        API("üñ•Ô∏è Flask API Gateway<br/>(Request Handling)")
        Monitor("‚öôÔ∏è Power Monitor Loop<br/>(Health Checks)")
        Scheduler("üìÖ Task Scheduler<br/>(Periodic Reports)")
    end

    subgraph DataSources ["üì° –ó–æ–≤–Ω—ñ—à–Ω—ñ –î–∂–µ—Ä–µ–ª–∞ –î–∞–Ω–∏—Ö"]
        Yasno("‚ö° Yasno/DTEK API<br/>(Schedules)")
        OpenMeteo("üå°Ô∏è Open-Meteo API<br/>(Weather & AQI)")
        Alerts("üì¢ alerts.in.ua API<br/>(Air Alerts)")
    end

    subgraph Infrastructure ["üì¶ –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"]
        JSON[("üóÑÔ∏è JSON Storage<br/>(State & History)")]
        Telegram("üí¨ Telegram API<br/>(Smart Updates)")
    end

    %% -- Connections --
    User <-->|AJAX Requests| API
    IoT -->|Port 8889 -> NAT -> 5050| API
    
    API <-->|Sync Data| Yasno
    API <-->|Fetch AQI| OpenMeteo
    API <-->|Alert Status| Alerts

    API <-->|Persistence| JSON
    Monitor <-->|Sync State| JSON
    Scheduler -->|Read History| JSON

    Monitor -->|Smart Notify| Telegram
    Scheduler -->|Update Charts| Telegram

    %% -- Applying Classes --
    class User,IoT client
    class API core
    class Monitor,Scheduler logic
    class Yasno,OpenMeteo,Alerts external
    class JSON storage
    class Telegram notify
```

---

## ‚öôÔ∏è –®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
   ```bash
   git clone https://github.com/weby-homelab/flash-monitor-kyiv.git
   cd flash-monitor-kyiv
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `.env`:**
   ```env
   TELEGRAM_BOT_TOKEN="your_bot_token"
   TELEGRAM_CHANNEL_ID="your_test_channel_id"
   ```

3. **–ó–∞–ø—É—Å–∫:**
   ```bash
   ./start.sh
   ```

---

## üìú –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é **MIT**. –í–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, –∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∫–æ–¥.

<p align="center">
  ‚ú¶ 2026 WEBy Home Lab ‚ú¶
</p>
