# –°–í–Ü–¢–õ–û‚ö°–ë–ï–ó–ü–ï–ö–ê

<p align="center">
  <img src="https://raw.githubusercontent.com/weby-homelab/flash-monitor-kyiv/main/dashboard_preview.jpg" alt="–°–í–Ü–¢–õ–û‚ö°–ë–ï–ó–ü–ï–ö–ê Dashboard Preview" width="100%">
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Release-v1.0.0-blue?style=for-the-badge" alt="Version">
  <img src="https://img.shields.io/badge/Python-3.10+-yellow?style=for-the-badge&logo=python" alt="Python">
  <img src="https://img.shields.io/badge/Flask-Framework-white?style=for-the-badge&logo=flask" alt="Flask">
  <img src="https://img.shields.io/badge/Status-Stable-success?style=for-the-badge" alt="Status">
</p>

---

**–°–í–Ü–¢–õ–û‚ö°–ë–ï–ó–ü–ï–ö–ê** ‚Äî —Ü–µ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –µ–Ω–µ—Ä–≥–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è —Ç–∞ –±–µ–∑–ø–µ–∫–æ–≤–æ—ó —Å–∏—Ç—É–∞—Ü—ñ—ó –≤ –ö–∏—î–≤—ñ. –ü—Ä–æ—î–∫—Ç –ø–æ—î–¥–Ω—É—î –≤ —Å–æ–±—ñ heartbeat-–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –µ–ª–µ–∫—Ç—Ä–æ–º–µ—Ä–µ–∂—ñ, –∞–Ω–∞–ª—ñ—Ç–∏–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –≥—Ä–∞—Ñ—ñ–∫–∞–º –≤—ñ–¥–∫–ª—é—á–µ–Ω—å, —Å–∏—Å—Ç–µ–º—É —Ä–∞–Ω–Ω—å–æ–≥–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Ç—Ä–∏–≤–æ–≥–∏ —Ç–∞ –µ–∫–æ–ª–æ–≥—ñ—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥.

üîó **–ñ–∏–≤–∏–π –¥–∞—à–±–æ—Ä–¥:** [flash.srvrs.top](https://flash.srvrs.top/)

---

## üöÄ –ö–ª—é—á–æ–≤—ñ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üí° –†–æ–∑—É–º–Ω–∏–π –ï–Ω–µ—Ä–≥–æ–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- **Reliable Heartbeat:** –û–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ –≤—ñ–¥ IoT-–ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –Ω–∞ –ø–æ—Ä—Ç—É `5050` –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –≤–∏—Å–æ–∫–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
- **Accuracy Tracking:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç–æ—á–Ω–æ—Å—Ç—ñ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å/–≤–∫–ª—é—á–µ–Ω—å –≤—ñ–¥–Ω–æ—Å–Ω–æ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ —É —Ö–≤–∏–ª–∏–Ω–∞—Ö.
- **Event Timeline:** –î–µ—Ç–∞–ª—å–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø–æ–¥—ñ–π –∑ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–æ–º —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∫–æ–∂–Ω–æ–≥–æ –ø–µ—Ä—ñ–æ–¥—É.

### üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ AQI (–ë–æ—Ä—â–∞–≥—ñ–≤–∫–∞)
- **Air Alerts:** –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å—É –ø–æ–≤—ñ—Ç—Ä—è–Ω–∏—Ö —Ç—Ä–∏–≤–æ–≥ (–ö–∏—ó–≤/–û–±–ª–∞—Å—Ç—å) –∑ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ—é –∂–∏–≤–æ—é –∫–∞—Ä—Ç–æ—é.
- **Ecological Monitor:** –î–∞–Ω—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –ø—Ä–æ AQI, PM2.5, PM10, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Ç–∞ –≤–æ–ª–æ–≥—ñ—Å—Ç—å (–ª–æ–∫–∞—Ü—ñ—è: –°–∏–º–∏—Ä–µ–Ω–∫–∞).
- **Radiation Background:** –ü–æ—Å—Ç—ñ–π–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–¥—ñ–∞—Ü—ñ–π–Ω–æ–≥–æ —Ñ–æ–Ω—É (–º–∫–ó–≤/–≥–æ–¥).

### üîî –Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ñ Telegram-–∑–≤—ñ—Ç–∏
- **Live Graphic Report:** –î–µ–Ω–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ ¬´–ü–ª–∞–Ω vs –§–∞–∫—Ç¬ª, —â–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω —É —Ç–æ–º—É —Å–∞–º–æ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ.
- **Smart Text Schedules:** –¢–µ–∫—Å—Ç–æ–≤—ñ —Ä–æ–∑–∫–ª–∞–¥–∏ (Yasno/DTEK) –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω —É –ø–µ—Ä—ñ–æ–¥ –∑ 06:00 –¥–æ 22:30. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ä–µ–¥–∞–≥—É—î—Ç—å—Å—è –ª–∏—à–µ –∑–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω —É –¥–∞–Ω–∏—Ö.
- **Instant Alerts:** –ú–∏—Ç—Ç—î–≤—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∑–º—ñ–Ω—É —Å—Ç–∞—Ç—É—Å—É –º–µ—Ä–µ–∂—ñ –∑ –∞–Ω–∞–ª—ñ–∑–æ–º –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø–æ–¥—ñ–π –∑–∞ –≥—Ä–∞—Ñ—ñ–∫–æ–º.

---

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º–∏

–°–∏—Å—Ç–µ–º–∞ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø—ñ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –æ–±–æ–≤'—è–∑–∫—ñ–≤ (Separation of Concerns) –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ:

```mermaid
flowchart TD
    %% -- Style Definitions --
    classDef client fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#01579b
    classDef core fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#616161
    classDef logic fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#2e7d32
    classDef external fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#c2185b
    classDef storage fill:#efebe9,stroke:#4e342e,stroke-width:2px,color:#4e342e
    classDef notify fill:#ede7f6,stroke:#5e35b1,stroke-width:2px,color:#5e35b1

    %% -- Nodes --
    subgraph Clients ["üåê User Interface"]
        User("üì± PWA Dashboard<br/>(Auto-refresh 60s)")
        IoT("‚ö° IoT Device<br/>(Push every 30s)")
    end

    subgraph WebService ["üöÄ Flask Web App (Port 5050)"]
        API["üñ•Ô∏è API Gateway<br/>(4 Workers / High-Load Ready)"]
        Cache["üíæ Thread-Safe Cache<br/>(TTL 60s)"]
    end

    subgraph BackendService ["‚öôÔ∏è Background Engine"]
        Monitor["üì° Monitor Loop<br/>(Outage Detection)"]
        Scheduler["üìÖ Task Scheduler<br/>(10m Graphic / 30m Text)"]
    end

    subgraph Infrastructure ["üì¶ Data & Notify"]
        JSON[("üóÑÔ∏è Storage<br/>(State/History/IDs)")]
        Telegram("üí¨ Telegram API")
    end

    %% -- Connections --
    User <-->|GET| API
    IoT -->|Push| API
    API --- Cache
    API <-->|Read/Write| JSON
    Monitor <-->|State Sync| JSON
    Scheduler -->|Read History| JSON
    Monitor & Scheduler -->|Notify| Telegram
    
    class User,IoT client
    class API,Cache core
    class Monitor,Scheduler logic
    class JSON storage
    class Telegram notify
```

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π –°—Ç–µ–∫

*   **Runtime:** Python 3.10+
*   **Web Server:** Flask, Gunicorn (Multi-worker configuration)
*   **Graphics:** Matplotlib (Custom dark-theme renders)
*   **PWA:** Service Worker v4 (Aggressive caching with force-update)
*   **Security:** Systemd isolation, Cloudflare Tunneling

---

## ‚öôÔ∏è –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (Deployment)

1. **–°–∏—Å—Ç–µ–º–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏:**
   –ü—Ä–æ—î–∫—Ç –ø–æ—Ç—Ä–µ–±—É—î –∑–∞–ø—É—Å–∫—É –¥–≤–æ—Ö –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤:
   - `flash-monitor.service`: –û–±—Ä–æ–±–∫–∞ HTTP-–∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ Dashboard.
   - `flash-background.service`: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–≤—ñ—Ç—ñ–≤.

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `.env`:**
   ```env
   TELEGRAM_BOT_TOKEN="bot_token"
   TELEGRAM_CHANNEL_ID="channel_id"
   ```

3. **–ó–∞–ø—É—Å–∫:**
   ```bash
   chmod +x start.sh
   ./start.sh
   ```

---

## üìú –õ—ñ—Ü–µ–Ω–∑—ñ—è

–†–æ–∑–ø–æ–≤—Å—é–¥–∂—É—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é **MIT**. 

<p align="center">
  2026 –†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –∑ ‚ù§Ô∏è –ø—ñ–¥ —á–∞—Å –±–ª–µ–∫–∞—É—Ç—ñ–≤ —É –ö–∏—î–≤—ñ.
</p>
